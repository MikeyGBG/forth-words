marker --task
marker but-task
decimal

variable taskCount
0 taskCount !

$40 $40 $40 $0 task: tButRead
$40 $40 $40 $0 task: tButExec

: but0 [char] 0 lcdWrite ;
: but1 [char] 1 lcdWrite ;
: but2 [char] 2 lcdWrite ;

: tempStore
['] but0 0 0 butAr butExecStore
['] but1 0 1 butAr butExecStore
['] but2 0 2 butAr butExecStore
;

\ multi-press buttons or debouncing will require 2 tasks
: butReadTask
begin
butRead
20 ms
again
;

: butExecTask
begin
lcdClear
butSingleExec
100 ms
again ;

: butGo
['] butReadTask tButRead tinit tButRead run 
['] butExecTask tButExec tinit tButExec run ;
